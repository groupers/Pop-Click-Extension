<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/js/popup_control.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  </ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/js/popup_control.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
This is for content control
**/

$( document ).ready(function() {
	getToken();
	blockedStatus();
	$(&apos;#showDialog&apos;).click( function() {
		showDialog();
	});
});
function blockedStatus() {
	isBlockedRequest(&apos;webpage&apos;)
	isBlockedRequest(&apos;website&apos;)
}
function isBlockedRequest(siteorpage) {
	var response;
	chrome.runtime.sendMessage({isBlocked: siteorpage}, function(r) {
		if(siteorpage == &apos;webpage&apos;) {
			if(&quot;true&quot; == r) {
				document.getElementById(&apos;ppage&apos;).innerText = &quot;deactivated&quot;;
			} else {
				document.getElementById(&apos;ppage&apos;).innerText = &quot;activated&quot;;
			}
		} else {
			if(&quot;true&quot; == r) {
				document.getElementById(&apos;psite&apos;).innerText = &quot;deactivated&quot;;
			} else {
				document.getElementById(&apos;psite&apos;).innerText = &quot;activated&quot;;
			}
		}
	});
}

function getToken() {
	chrome.runtime.sendMessage({getToken: &quot;head&quot;}, function(response) {
		if(document.getElementById(&apos;ptoken&apos;)){
			if(response != &quot;false&quot;) {
				document.getElementById(&apos;ptoken&apos;).innerText = &quot;&quot;+response
			} else {
				document.getElementById(&apos;ptoken&apos;).innerText = &quot;Not Found.&quot;
			}
		}
	});
}

function addBlockedWebpage() {
	chrome.runtime.sendMessage({block_webpage: &quot;head&quot;}, function(response) {});
}

function addBlockedWebsite() {
	chrome.runtime.sendMessage({block_website: &quot;head&quot;}, function(response) {});
}

var blockpage = document.getElementById(&apos;BlockPage&apos;)
var blockwebsite = document.getElementById(&apos;BlockWebsite&apos;)
if(blockpage) {
	blockpage.addEventListener(&apos;click&apos;, function() {
		addBlockedWebpage();
		blockedStatus();
	}); 
}
if(blockwebsite) {
	blockwebsite.addEventListener(&apos;click&apos;, function() {
		addBlockedWebsite();
		blockedStatus();
	}); 
}
function showDialog() {
	chrome.tabs.query({currentWindow: true, active: true}, function (tabs){
		var activeTab = tabs[0];
		chrome.tabs.sendMessage(activeTab.id, {action: &quot;show_dialog&quot;});
	});
}</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
